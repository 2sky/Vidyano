<dom-module id="vi-popup-menu">
    <template>
        <vi-popup id="popup" disabled="{{disabled}}">
            <template is="dom-if" if="{{!contextMenuOnly}}">
                <content select="[header]"></content>
            </template>
            <div content vertical layout>
                <content select="vi-popup-menu-item, vi-popup-menu-item-separator"></content>
            </div>
        </vi-popup>
    </template>
</dom-module>

<dom-module id="vi-popup-menu-item">
    <template>
        <button is="vi-button" class="flex horizontal layout" inverse>
            <template is="dom-if" if="{{icon}}">
                <vi-resource source="{{icon}}"></vi-resource>
            </template>
            <span>{{label}}</span>
        </button>
        <vi-popup open-on-hover>
            <template is="dom-if" if="{{split}}">
                <button is="vi-button" header on-tap="_splitTap" inverse>
                    <vi-resource source="Icon_Forward"></vi-resource>
                </button>
            </template>
            <div content vertical layout>
                <content select="vi-popup-menu-item"></content>
            </div>
        </vi-popup>
    </template>
</dom-module>

<dom-module id="vi-popup-menu-item-separator"></dom-module>

<link rel="stylesheet" href="popup-menu.css" />
<script src="popup-menu.js"></script>