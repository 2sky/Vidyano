<dom-module id="vi-action-button">
    <template>
        <button can-execute$="{{canExecute}}" header class="layout horizontal" on-tap="_executeWithoutOptions">
            <vi-resource source="{{icon}}"></vi-resource>
            <span>{{action.definition.displayName}}</span>
            <template is="dom-if" if="{{hasOptions}}">
                <vi-resource source="Icon_Down" class="options"></vi-resource>
            </template>
        </button>
        <template is="dom-if" if="{{hasOptions}}">
            <vi-popup id="options" open-on-hover$="{{overflow}}">
                <ul content>
                    <template is="dom-repeat" items="{{options}}">
                        <li on-tap="_executeWithOption" data-option-index$="{{index}}">{{item}}</li>
                    </template>
                </ul>
            </vi-popup>
        </template>
    </template>
</dom-module>

<link rel="stylesheet" href="action-button.css" />
<script src="action-button.js"></script>