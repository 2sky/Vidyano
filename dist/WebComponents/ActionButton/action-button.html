<dom-module id="vi-action-button">
    <template>
        <template is="dom-if" if="{{!hasOptions}}">
            <button is="vi-button" disabled="{{!canExecute}}" header on-tap="_executeWithoutOptions" inverse icon="{{icon}}" label="{{action.definition.displayName}}"></button>
        </template>
        <template is="dom-if" if="{{hasOptions}}">
            <vi-popup-menu open-on-hover="{{overflow}}">
                <button is="vi-button" disabled="{{!canExecute}}" header inverse>
                    <vi-resource source="{{icon}}"></vi-resource>
                    <span class="label">{{action.definition.displayName}}</span>
                    <vi-resource source="Icon_Down"></vi-resource>
                </button>
                <template is="dom-repeat" items="{{options}}">
                    <vi-popup-menu-item label="{{item}}" on-tap="_executeWithOption" data-option-index$="{{index}}"></vi-popup-menu-item>
                </template>
            </vi-popup-menu>
        </template>
    </template>
</dom-module>

<link rel="stylesheet" href="action-button.css" />
<script src="action-button.js"></script>