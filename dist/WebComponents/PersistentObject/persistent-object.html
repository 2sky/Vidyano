<link rel="import" href="../ActionBar/action-bar.html" />
<link rel="import" href="../Notification/notification.html" />
<link rel="import" href="../PersistentObjectTabBar/persistent-object-tab-bar.html" />
<link rel="import" href="../PersistentObjectTabPresenter/persistent-object-tab-presenter.html" />
<link rel="import" href="../PersistentObjectTab/persistent-object-tab.html" />

<dom-module id="vi-persistent-object">
    <template>
        <div class="horizontal layout flex content">
            <div class="vertical layout master">
                <vi-action-bar service-object="{{selectedMasterTab.target}}"></vi-action-bar>
                <vi-notification service-object="{{selectedMasterTab.target}}"></vi-notification>
                <vi-persistent-object-tab-presenter class="flex" tab="{{selectedMasterTab}}"></vi-persistent-object-tab-presenter>
            </div>
            <div id="splitter" on-track="_trackSplitter"></div>
            <div class="vertical layout flex detail" theme-color-2>
                <vi-action-bar service-object="{{selectedDetailTab.target}}"></vi-action-bar>
                <vi-notification service-object="{{selectedDetailTab.target}}"></vi-notification>
                <vi-scroller no-horizontal no-vertical="{{_disableTabScrolling(selectedDetailTab)}}" class="flex">
                    <vi-persistent-object-tab-presenter tab="{{selectedDetailTab}}"></vi-persistent-object-tab-presenter>
                </vi-scroller>
            </div>
        </div>
        <div class="horizontal layout tabs">
            <div class="master">
                <vi-persistent-object-tab-bar tabs="{{masterTabs}}" selected-tab="{{selectedMasterTab}}"></vi-persistent-object-tab-bar>
            </div>
            <div class="flex detail">
                <vi-persistent-object-tab-bar theme-color-2 tabs="{{detailTabs}}" selected-tab="{{selectedDetailTab}}"></vi-persistent-object-tab-bar>
            </div>
        </div>
        <header>{{persistentObject.breadcrumb}}</header>
    </template>
</dom-module>

<link rel="stylesheet" href="persistent-object.css" />
<script src="persistent-object.js"></script>