<dom-module id="vi-popup-menu">
    <template>
        <vi-popup id="popup" disabled="{{disabled}}">
            <template is="dom-if" if="{{!contextMenuOnly}}">
                <content select="[header]"></content>
            </template>
            <div content class="vertical layout">
                <content select="vi-popup-menu-item, vi-popup-menu-item-separator"></content>
            </div>
        </vi-popup>
    </template>
</dom-module>

<dom-module id="vi-popup-menu-item">
    <template>
        <button is="vi-button" inverse icon="{{icon}}" label="{{label}}"></button>
        <template is="dom-if" if="{{split}}">
            <vi-popup open-on-hover>
                <button is="vi-button" header on-tap="_splitTap" inverse icon="Icon_Forward"></button>
                <div content class="vertical layout" on-DOMSubtreeModified="_itemsChanged">
                    <content select="vi-popup-menu-item, vi-popup-menu-item-separator"></content>
                </div>
            </vi-popup>
        </template>
    </template>
</dom-module>

<dom-module id="vi-popup-menu-item-separator"></dom-module>

<link rel="stylesheet" href="popup-menu.css" />
<script src="popup-menu.js"></script>