<link rel="import" href="../Button/button.html" />
<link rel="import" href="../Popup/popup.html" />

<dom-module id="vi-popup-menu">
    <template>
        <link rel="stylesheet" href="popup-menu.css" />
        <vi-popup open-on-hover="{{openOnHover}}" id="popup" disabled="[[disabled]]" open="{{open}}">
            <template is="dom-if" if="[[!contextMenuOnly]]">
                <content select="[header]"></content>
            </template>
            <div content>
                <content id="items" select="vi-popup-menu-item, vi-popup-menu-item-split, vi-popup-menu-item-separator, vi-popup-menu-item-with-actions"></content>
            </div>
        </vi-popup>
    </template>
</dom-module>

<dom-module id="vi-popup-menu-item">
    <template>
        <link rel="stylesheet" href="popup-menu-item.css" />
        <vi-popup open-on-hover class="flex" id="popup">
            <button header is="vi-button" inverse$="[[!checked]]" class="layout horizontal" on-tap="_catchTap">
                <vi-icon id="icon" source="[[icon]]"></vi-icon>
                <span class="flex">[[label]]</span>
                <vi-icon source="Forward" hidden$="[[!hasChildren]]"></vi-icon>
            </button>
            <div content>
                <content id="subItems" select="vi-popup-menu-item, vi-popup-menu-item-split, vi-popup-menu-item-separator, vi-popup-menu-item-with-actions"></content>
            </div>
        </vi-popup>
    </template>
</dom-module>

<dom-module id="vi-popup-menu-item-split">
    <template>
        <link rel="stylesheet" href="popup-menu-item-split.css" />
        <button is="vi-button" inverse$="[[!checked]]">
            <vi-icon id="icon" source="[[icon]]"></vi-icon>
            <span class="flex">[[label]]</span>
        </button>
        <vi-popup open-on-hover hidden$="[[!hasChildren]]">
            <button id="split" class="flex" is="vi-button" header icon="Forward" on-tap="_splitTap" inverse>
                <vi-icon source="Forward"></vi-icon>
            </button>
            <div content>
                <content id="subItems" select="vi-popup-menu-item, vi-popup-menu-item-split, vi-popup-menu-item-separator, vi-popup-menu-item-with-actions"></content>
            </div>
        </vi-popup>
    </template>
</dom-module>

<dom-module id="vi-popup-menu-item-with-actions">
    <template>
        <link rel="stylesheet" href="popup-menu-item-with-actions.css" />
        <div inverse class="layout horizontal">
            <paper-ripple></paper-ripple>
            <vi-icon id="icon" source="[[icon]]"></vi-icon>
            <span class="flex">[[label]]</span>
            <div class="actions" on-tap="_actionsTap" on-down="_catch">
                <content select="button"></content>
            </div>
        </div>
    </template>
</dom-module>

<dom-module id="vi-popup-menu-item-separator">
    <template>
        <link rel="stylesheet" href="popup-menu-item-separator.css" />
        <content></content>
    </template>
</dom-module>

<script src="popup-menu.js"></script>