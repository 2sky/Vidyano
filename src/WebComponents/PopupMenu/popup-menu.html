<link rel="import" href="../Button/button.html" />
<link rel="import" href="../Popup/popup.html" />

<dom-module id="vi-popup-menu">
    <template>
        <link rel="stylesheet" href="popup-menu.css" />
        <vi-popup open-on-hover="{{openOnHover}}" id="popup" disabled="[[disabled]]" open="{{open}}">
            <dom-if if="[[!contextMenuOnly]]">
                <template>
                    <slot name="header"></slot>
                </template>
            </dom-if>
            <div>
                <slot id="items"></slot>
            </div>
        </vi-popup>
    </template>
</dom-module>

<dom-module id="vi-popup-menu-item">
    <template>
        <link rel="stylesheet" href="popup-menu-item.css" />
        <vi-popup open-on-hover class="flex" id="popup">
            <vi-button slot="header" inverse$="[[!checked]]" class="layout horizontal" on-tap="_catchTap">
                <vi-icon id="icon" source="[[icon]]" hidden$="[[noIcon]]"></vi-icon>
                <span class="flex">[[label]]</span>
                <vi-icon source="Forward" hidden$="[[!hasChildren]]"></vi-icon>
            </vi-button>
            <div>
                <slot id="subItems"></slot>
            </div>
        </vi-popup>
    </template>
</dom-module>

<dom-module id="vi-popup-menu-item-split">
    <template>
        <link rel="stylesheet" href="popup-menu-item-split.css" />
        <vi-button inverse$="[[!checked]]">
            <vi-icon id="icon" source="[[icon]]"></vi-icon>
            <span class="flex">[[label]]</span>
        </vi-button>
        <vi-popup open-on-hover hidden$="[[!hasChildren]]">
            <vi-button id="split" class="flex" header icon="Forward" on-tap="_splitTap" inverse>
                <vi-icon source="Forward"></vi-icon>
            </vi-button>
            <div>
                <slot id="subItems"></slot>
            </div>
        </vi-popup>
    </template>
</dom-module>

<dom-module id="vi-popup-menu-item-with-actions">
    <template>
        <link rel="stylesheet" href="popup-menu-item-with-actions.css" />
        <div inverse class="layout horizontal">
            <paper-ripple></paper-ripple>
            <vi-icon id="icon" source="[[icon]]"></vi-icon>
            <span class="flex">[[label]]</span>
            <div class="actions" on-tap="_actionsTap" on-down="_catch">
                <slot name="button"></slot>
            </div>
        </div>
    </template>
</dom-module>

<dom-module id="vi-popup-menu-item-separator">
    <template>
        <link rel="stylesheet" href="popup-menu-item-separator.css" />
        <slot></slot>
    </template>
</dom-module>

<script src="popup-menu.js"></script>