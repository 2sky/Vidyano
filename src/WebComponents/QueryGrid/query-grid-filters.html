<link rel="import" href="../Checkbox/checkbox.html" />

<dom-module id="vi-query-grid-filters">
    <template>
        <vi-popup-menu disabled="{{!canOpen}}">
            <button header is="vi-button" inverse disabled="{{!canOpen}}">
                <vi-icon source="Filter_Menu"></vi-icon>
            </button>
            <template is="dom-if" if="{{filtering}}">
                <vi-popup-menu-item icon="Filter_Reset" label="{{translations.Reset}}" on-tap="_reset"></vi-popup-menu-item>
            </template>
            <template is="dom-if" if="{{currentFilter}}">
                <vi-popup-menu-item icon="Filter_Save" label="{{_getCurrentFilterSave(currentFilter)}}" on-tap="_saveCurrent"></vi-popup-menu-item>
                <vi-popup-menu-item icon-space label="{{translations.SaveAs}}" on-tap="_save"></vi-popup-menu-item>
                <vi-popup-menu-item-separator></vi-popup-menu-item-separator>
            </template>
            <template is="dom-if" if="{{!currentFilter}}">
                <template is="dom-if" if="{{filtering}}">
                    <vi-popup-menu-item icon="Filter_Save" label="{{translations.SaveAs}}" on-tap="_save"></vi-popup-menu-item>
                    <vi-popup-menu-item-separator></vi-popup-menu-item-separator>
                </template>
            </template>
            <template is="dom-repeat" items="{{filters}}" as="filter">
                <vi-popup-menu-item icon-space split label="{{filter}}" data-filter$="{{filter}}" on-tap="_load">
                    <vi-popup-menu-item icon="Action_Edit" label="{{editLabel}}" data-filter$="{{filter}}" on-tap="_edit"></vi-popup-menu-item>
                    <vi-popup-menu-item icon="Action_Delete" label="{{translations.Delete}}" data-filter$="{{filter}}" on-tap="_delete"></vi-popup-menu-item>
                </vi-popup-menu-item>
            </template>
        </vi-popup-menu>
        <vi-persistent-object-dialog id="dialog"></vi-persistent-object-dialog>
    </template>
</dom-module>

<link rel="stylesheet" href="query-grid-filters.css" />

<script src="query-grid-filters.js"></script>