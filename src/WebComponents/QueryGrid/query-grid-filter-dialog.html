<link rel="import" href="../Button/button.html" />
<link rel="import" href="../Dialog/dialog.html" />
<link rel="import" href="../Notification/notification.html" />
<link rel="import" href="../PersistentObjectAttributePresenter/persistent-object-attribute-presenter.html" />

<dom-module id="vi-query-grid-filter-dialog">
    <template>
        <link rel="stylesheet" href="query-grid-filter-dialog.css" />
        <vi-notification service-object="[[persistentObject]]"></vi-notification>
        <main id="main">
            <vi-persistent-object-attribute-presenter attribute="[[persistentObject.attributes.Name]]">
                <template is="dom-template">
                    <vi-query-grid-filter-dialog-name class="flex" attribute="[[attribute]]"></vi-query-grid-filter-dialog-name>
                </template>
            </vi-persistent-object-attribute-presenter>
            <vi-persistent-object-attribute-presenter attribute="[[persistentObject.attributes.IsDefault]]"></vi-persistent-object-attribute-presenter>
        </main>
        <footer class="layout horizontal-reverse">
            <button is="vi-button" inverse on-tap="cancel" label="[[translations.Cancel]]" disabled$="[[persistentObject.isBusy]]"></button>
            <button is="vi-button" on-tap="_save" action-type="Default" label="[[translations.Save]]" disabled$="[[persistentObject.isBusy]]"></button>
        </footer>
    </template>
</dom-module>

<dom-module id="vi-query-grid-filter-dialog-name">
    <template>
        <link rel="stylesheet" href="query-grid-filter-dialog-name.css" />
        <vi-persistent-object-attribute-edit attribute="[[attribute]]" class="flex" reverse>
            <button is="vi-button" icon="Folder" on-tap="_toggleGrouping" inverse tabindex="-1"></button>
            <div content class="layout horizontal flex">
                <input class="flex" value="{{group::input}}" hidden$="[[!grouping]]" id="groupInput" />
                <vi-icon source="ChevronRight" hidden$="[[!grouping]]"></vi-icon>
                <input class="flex" value="{{name::input}}" id="nameInput" />
            </div>
        </vi-persistent-object-attribute-edit>
    </template>
</dom-module>

<script src="query-grid-filter-dialog.js"></script>