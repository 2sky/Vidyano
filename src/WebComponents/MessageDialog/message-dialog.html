<link rel="import" href="../../Libs/marked-element/marked-element.html" />
<link rel="import" href="../Button/button.html" />
<link rel="import" href="../Dialog/dialog.html" />

<dom-module id="vi-message-dialog">
    <template>
        <link rel="stylesheet" href="message-dialog.css" />
        <header class="horizontal layout">
            <template is="dom-if" if="[[_hasHeaderIcon(options)]]">
                <vi-icon source="[[options.titleIcon]]"></vi-icon>
            </template>
            <h4 class="flex">[[options.title]]</h4>
            <template is="dom-if" if="[[!options.noClose]]">
                <button class="close" on-tap="cancel"><vi-icon source="Remove"></vi-icon></button>
            </template>
        </header>
        <main>
            <template is="dom-if" if="[[options.rich]]">
                <marked-element markdown="[[options.message]]"></marked-element>
            </template>
            <template is="dom-if" if="[[!options.rich]]">
                <pre>[[options.message]]</pre>
            </template>
        </main>
        <footer class="horizontal layout end-justified">
            <template is="dom-repeat" items="[[options.actions]]" as="action">
                <button is="vi-button" on-tap="_onSelectAction" type$="[[_getActionType(options, index)]]" inverse="[[!_isFirst(index)]]" label="[[action]]"></button>
            </template>
        </footer>
    </template>
</dom-module>

<script src="message-dialog.js"></script>