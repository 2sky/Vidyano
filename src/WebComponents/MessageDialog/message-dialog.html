<link rel="import" href="../Button/button.html" />
<link rel="import" href="../Dialog/dialog.html" />

<dom-module id="vi-message-dialog">
    <template>
        <link rel="stylesheet" href="message-dialog.css" />
        <header class="horizontal layout">
            <vi-icon source="[[options.titleIcon]]" hidden$="[[!hasHeaderIcon]]"></vi-icon>
            <h4 class="flex">[[options.title]]</h4>
            <dom-if if="[[!options.noClose]]">
                <template>
                    <button class="close" on-tap="cancel"><vi-icon source="Remove"></vi-icon></button>
                </template>
            </dom-if>
        </header>
        <main rich$="[[options.rich]]">
            <dom-if if="[[options.rich]]">
                <template>
                    <marked-element markdown="[[options.message]]"></marked-element>
                </template>
            </dom-if>
            <dom-if if="[[!options.rich]]">
                <template>
                    <pre>[[options.message]]</pre>
                </template>
            </dom-if>
        </main>
        <footer class="horizontal layout end-justified" id="actions">
            <dom-repeat items="[[options.actions]]" as="action">
                <template>
                    <vi-button on-tap="_onSelectAction" type$="[[_actionType(options, index)]]" inverse="[[op.areNotSame(activeAction, index)]]" label="[[action]]"></vi-button>
                </template>
            </dom-repeat>
        </footer>
    </template>
</dom-module>

<script src="message-dialog.js"></script>