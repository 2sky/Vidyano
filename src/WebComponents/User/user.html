<dom-module id="vi-user">
    <template>
        <link rel="stylesheet" href="user.css" />
        <template is="dom-if" if="[[isSignedIn]]">
            <div id="signedIn" class="horizontal layout center-justified flex">
                <span>[[userName]]</span>
            </div>
            <vi-popup-menu right-align>
                <button id="settings" header is="vi-button">
                    <vi-icon source="Up"></vi-icon>
                </button>
                <template is="dom-if" if="[[canUserSettings]]">
                    <vi-popup-menu-item icon="Configure" label="[[translations.UserSettings]]" on-tap="userSettings"></vi-popup-menu-item>
                </template>
                <template is="dom-if" if="[[canFeedback]]">
                    <vi-popup-menu-item icon="UserFeedback" label="[[translations.Feedback]]" on-tap="feedback"></vi-popup-menu-item>
                </template>
                <template is="dom-if" if="[[!service.windowsAuthentication]]">
                    <vi-popup-menu-item icon="SignOut" label="[[translations.SignOut]]" on-tap="signOut"></vi-popup-menu-item>
                </template>
            </vi-popup-menu>
        </template>
        <template is="dom-if" if="[[!isSignedIn]]">
            <button is="vi-button" id="signIn" class="flex" on-tap="signIn">
                <span>[[translations.SignIn]]</span>
                <vi-icon source="SignIn"></vi-icon>
            </button>
        </template>
    </template>
</dom-module>

<script src="user.js"></script>