<link rel="import" href="../../Select/select.html" />
<link rel="import" href="../../SelectReferenceDialog/select-reference-dialog.html" />

<dom-module id="vi-persistent-object-attribute-user">
    <template>
        <style include="vi-persistent-object-attribute-style-module"></style>
        <link rel="stylesheet" href="persistent-object-attribute-user.css" />
        <dom-if if="[[!editing]]">
            <template>
                <span sensitive$="[[sensitive]]">[[friendlyName]]</span>
            </template>
        </dom-if>
        <dom-if if="[[editing]]">
            <template>
                <vi-persistent-object-attribute-edit attribute="[[attribute]]">
                    <input value="[[friendlyName]]" readonly sensitive$="[[sensitive]]">
                    <dom-if if="[[!readOnly]]" restamp>
                        <template>
                            <button slot="button" on-tap="_browseReference" tabindex="-1">
                                <vi-icon source="Ellipsis"></vi-icon>
                            </button>
                        </template>
                    </dom-if>
                    <dom-if if="[[canClear]]" restamp>
                        <template>
                            <button slot="button" on-tap="_clearReference" tabindex="-1">
                                <vi-icon source="Remove"></vi-icon>
                            </button>
                        </template>
                    </dom-if>
                </vi-persistent-object-attribute-edit>
            </template>
        </dom-if>
    </template>
</dom-module>

<script src="persistent-object-attribute-user.js"></script>