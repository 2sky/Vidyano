<link rel="import" href="../../Scroller/scroller.html" />
<link rel="import" href="../../Sortable/sortable.html" />

<dom-module id="vi-persistent-object-attribute-multi-string-item">
    <template>
        <link rel="stylesheet" href="persistent-object-attribute-multi-string-item.css" />
        <vi-icon source="Hamburger" class="sort-handle"></vi-icon>
        <input id="input" class="flex" value="{{value::input}}" on-blur="_onInputBlur" type="text" readonly$="[[isReadOnly]]" disabled$="[[disabled]]" autocomplete="off" placeholder="[[placeholder]]">
    </template>
</dom-module>

<dom-module id="vi-persistent-object-attribute-multi-string">
    <template>
        <link rel="stylesheet" href="persistent-object-attribute-multi-string.css" />
        <template is="dom-if" if="[[!editing]]">
            <vi-scroller no-horizontal class="flex">
                <pre>[[attribute.displayValue]]</pre>
            </vi-scroller>
        </template>
        <template is="dom-if" if="[[editing]]">
			<vi-scroller no-horizontal class="flex">
                <fieldset disabled$="[[attribute.parent.isFrozen]]">
                    <vi-persistent-object-attribute-multi-string-items id="strings" draggable-items="vi-persistent-object-attribute-multi-string-item" handle=".sort-handle" enabled="[[!attribute.parent.isFrozen]]"></vi-persistent-object-attribute-multi-string-items>
                    <vi-persistent-object-attribute-multi-string-item is-new hidden$="[[readOnly]]" placeholder="[[placeholder]]"></vi-persistent-object-attribute-multi-string-item>
                </fieldset>
			</vi-scroller>
        </template>
    </template>
</dom-module>

<script src="persistent-object-attribute-multi-string.js"></script>