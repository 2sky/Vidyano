<link rel="import" href="../Button/button.html" />

<dom-module id="vi-action-button">
    <template>
        <link rel="stylesheet" href="action-button.css" />
        <dom-if if="[[!options]]">
            <template>
                <vi-button disabled="[[!canExecute]]" header on-tap="_onExecuteWithoutOptions" inverse>
                    <div class="layout horizontal">
                        <vi-icon source="[[icon]]"></vi-icon>
                        <span class="label">[[action.displayName]]</span>
                    </div>
                </vi-button>
            </template>
        </dom-if>
        <dom-if if="[[options]]">
            <template>
                <vi-popup-menu open-on-hover="[[op.some(overflow, openOnHover)]]" disabled="[[!canExecute]]">
                    <vi-button disabled="[[!canExecute]]" slot="header" inverse class="options">
                        <div class="layout horizontal">
                            <vi-icon source="[[icon]]"></vi-icon>
                            <span class="label">[[action.displayName]]</span>
                            <vi-icon source="Down"></vi-icon>
                        </div>
                    </vi-button>
                    <dom-repeat items="[[options]]" as="option">
                        <template>
                            <vi-popup-menu-item label="[[option.value]]" on-tap="_onExecuteWithOption"></vi-popup-menu-item>
                        </template>
                    </dom-repeat>
                </vi-popup-menu>
            </template>
        </dom-if>
    </template>
</dom-module>

<script src="action-button.js"></script>