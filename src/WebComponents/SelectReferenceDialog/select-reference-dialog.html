<link rel="import" href="../Button/button.html" />
<link rel="import" href="../Dialog/dialog.html" />
<link rel="import" href="../InputSearch/input-search.html" />
<link rel="import" href="../Notification/notification.html" />
<link rel="import" href="../QueryGrid/query-grid.html" />
<link rel="import" href="../Select/select.html" />

<dom-module id="vi-select-reference-dialog">
    <template>
        <link rel="stylesheet" href="select-reference-dialog.css" />
        <header class="horizontal layout center">
            <h4 class="flex">[[query.label]]</h4>
            <vi-input-search id="search" value="{{query.textSearch}}" on-search="_search" hidden$="[[initializing]]" autofocus></vi-input-search>
        </header>
        <main class="vertical layout">
            <vi-notification service-object="[[query]]"></vi-notification>
            <vi-query-grid class="flex" query="[[query]]" on-item-tap="_selectReference" as-lookup initializing="{{initializing}}"></vi-query-grid>
        </main>
        <footer class="horizontal-reverse layout justified">
            <div class="horizontal layout end-justified">
                <vi-button on-tap="_select" disabled$="[[!canSelect]]" label="[[translateMessage('OK', isConnected)]]"></vi-button>
                <vi-button inverse on-tap="cancel" label="[[translateMessage('Cancel', isConnected)]]"></vi-button>
            </div>
            <vi-button on-tap="_addNew" hidden$="[[!canAddNewReference]]" label="[[translateMessage('NewReference', isConnected)]]"></vi-button>
        </footer>
    </template>
</dom-module>

<script src="select-reference-dialog.js"></script>