<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Resources</title>
    <style>
        svg {
            width: 32px;
            height: 32px;
        }
    </style>
    <script>
        function load_resources() {
            var xhr = new XMLHttpRequest();
            xhr.onreadystatechange = function (e) {
                if (xhr.readyState == 4 && xhr.status == 200) {
                    var temp = document.createElement("div");
                    temp.innerHTML = xhr.responseText;

                    var icons = document.querySelector("#icons");
                    Array.prototype.forEach.call(temp.querySelectorAll("vi-icon[icon]"), function (resource) {
                        var row = document.createElement("tr");

                        var icon = document.createElement("td");
                        icon.appendChild(resource.querySelector("svg"));
                        row.appendChild(icon);

                        var label = document.createElement("td");
                        label.textContent = resource.getAttribute("name");
                        row.appendChild(label);

                        icons.appendChild(row);
                    });
                }
            }

            xhr.open("GET", "resource.html", true);
            xhr.setRequestHeader('Content-type', 'text/html');
            xhr.send();
        }
    </script>
</head>
<body onload="load_resources()">
    <table id="icons"></table>
</body>
</html>